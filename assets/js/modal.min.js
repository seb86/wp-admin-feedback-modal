/*! WP Admin Feedback Modal v1.0.0 Thursday 5th September 2019 18:16:57 PM GMT+0200 */
var $=jQuery;function Modal(e){var t=this;this.elem=e,this.overlay=$(".wp-admin-fb-modal-overlay"),this.radio=$("input[name=reason]",e),this.closer=$(".close, .cancel",e),this.return=$(".return",e),this.opener=$('.plugins [data-slug="'+wp_admin_fb_modal_params.plugin_slug+'"] .deactivate'),this.question=$(".question",e),this.button=$(".button-primary",e),this.title=$(".header h2",e),this.textFields=$("input[type=text], textarea",e),this.hiddenReason=$("#reason",e),this.hiddenDetails=$("#details",e),this.titleText=this.title.text(),this.permission=$("#permission",e),this.email=$("#email",e),this.opener.click(function(){return t.open(),!1}),this.closer.click(function(){return t.close(),!1}),e.bind("keyup",function(){if(27==event.keyCode)return t.close(),!1}),this.return.click(function(){return t.returnToQuestion(),!1}),this.radio.change(function(){t.change($(this))}),this.textFields.keyup(function(){t.hiddenDetails.val($(this).val()),""!=t.hiddenDetails.val()?(t.button.removeClass("isDisabled"),t.button.removeAttr("disabled"),t.permission.removeAttr("disabled"),t.email.removeAttr("disabled")):(t.button.addClass("isDisabled"),t.button.attr("disabled",!0),t.permission.attr("disabled",!0),t.email.attr("disabled",!0))})}$(document).ready(function(){var e=$(".wp-admin-fb-modal."+wp_admin_fb_modal_params.plugin_slug);e&&new Modal(e),$("#send-deactivation").on("click",function(e){var t=$("#reason").val(),i=$("#details").val(),s=$("#email").val(),a=$("#permission").val(),n=$(this).attr("href");e.preventDefault(),$.post($("#wp_admin_fb_modal_ajax_url").val(),{action:"wp_admin_fb_modal_"+wp_admin_fb_modal_params.plugin_slug,ajax_nonce:wp_admin_fb_modal_params.nonce,fb_reason:t,fb_details:i,fb_email:s,fb_permission_granted:a}).done(function(e){e?window.location.href=n:console.log("No response!")})}),$(".what-will-be-sent a").on("click",function(e){e.preventDefault(),$(".whats-sent").toggle()})}),Modal.prototype.change=function(e){var t=e.attr("id"),i=this;switch(this.hiddenReason.val(e.val()),this.hiddenDetails.val(""),this.textFields.val(""),$(".fieldHidden").removeClass("isOpen"),$(".hidden").removeClass("isOpen"),this.button.removeClass("isDisabled"),this.button.removeAttr("disabled"),this.permission.removeAttr("disabled"),this.email.removeAttr("disabled"),t){case"reason-temporary":break;default:var s=$("#"+t+"-panel"),a=e.siblings(".fieldHidden");if(0<s.length){i.question.removeClass("isOpen"),i.return.addClass("isOpen"),s.addClass("isOpen");var n=s.find("h3").text();this.title.text(n)}else 0<a.length&&(a.addClass("isOpen"),a.find("input, textarea").focus(),i.button.addClass("isDisabled"),i.button.attr("disabled",!0),i.permission.attr("disabled",!0),i.email.attr("disabled",!0))}},Modal.prototype.returnToQuestion=function(){$(".fieldHidden").removeClass("isOpen"),$(".hidden").removeClass("isOpen"),this.question.addClass("isOpen"),this.return.removeClass("isOpen"),this.title.text(this.titleText),this.hiddenReason.val(""),this.hiddenDetails.val(""),this.radio.attr("checked",!1),this.button.addClass("isDisabled"),this.button.attr("disabled",!0),this.permission.attr("disabled",!0),this.email.attr("disabled",!0)},Modal.prototype.open=function(){this.elem.css("display","block"),this.overlay.css("display","block")},Modal.prototype.close=function(){this.returnToQuestion(),this.elem.css("display","none"),this.overlay.css("display","none")};